{% extends "Base/Sidebar.html" %}
{% load static %}
{% block content %}
    <link rel="stylesheet" href="{% static 'css/base/coloresCustom.css' %}">

    <div class="section-title">
        <span class="fw-bold text-dark">Gestión de Usuarios</span>
        <span class="mx-2 text-dark">|</span>
        <span class="text-secondary">Registrar Usuario</span>
    </div>

    <div class="custom-card mt-4">
       <form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="row g-3">
        <div class="col-md-6">
            <label for="{{ form.first_name.id_for_label }}" class="form-label">Nombre</label>
            {{ form.first_name }}
        </div>

        <div class="col-md-6">
            <label for="{{ form.last_name.id_for_label }}" class="form-label">Apellido</label>
            {{ form.last_name }}
        </div>

        <div class="col-md-6">
            <label for="{{ form.username.id_for_label }}" class="form-label">Usuario</label>
            {{ form.username }}
        </div>

        <div class="col-md-6">
            <label for="{{ form.email.id_for_label }}" class="form-label">Correo electrónico</label>
            {{ form.email }}
        </div>

        <div class="col-md-6">
            <label for="{{ form.password1.id_for_label }}" class="form-label">Contraseña</label>
            {{ form.password1 }}
        </div>

        <div class="col-md-6">
            <label for="{{ form.password2.id_for_label }}" class="form-label">Confirmar Contraseña</label>
            {{ form.password2 }}
        </div>

        <div class="col-md-6">
            <label for="{{ form.telefono.id_for_label }}" class="form-label">Teléfono</label>
            {{ form.telefono }}
        </div>

        <div class="col-md-6">
            <label for="{{ form.rol.id_for_label }}" class="form-label">Rol</label>
            {{ form.rol }}
        </div>

        <div class="col-md-12">
            <label for="{{ form.direccion.id_for_label }}" class="form-label">Dirección</label>
            {{ form.direccion }}
        </div>

        <div class="col-md-12">
            <label for="{{ form.foto.id_for_label }}" class="form-label">Foto</label>
            {{ form.foto }}
        </div>
    </div>

    <div class="mt-4 d-flex flex-column flex-sm-row gap-2">
        <button type="submit" class="btn btn-custom-success btn-sm">
            <i class="bi bi-person-plus-fill me-1"></i>Registrar
        </button>
        <a href="{% url 'gestionar_usuarios' %}" class="btn btn-custom-secondary btn-sm">
            <i class="bi bi-arrow-return-left me-1"></i>Volver a gestión de usuarios
        </a>
    </div>
</form>

    </div>
    
    
    
    
    
    
        <!-- Notyf JS Notificacones -->
    <script src="https://cdn.jsdelivr.net/npm/notyf@3.10.0/notyf.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/notyf@3.10.0/notyf.min.css" rel="stylesheet">

    {% if messages %}
        <script>
            const notyf = new Notyf({
                duration: 7000,
                position: {x: 'right', y: 'bottom'},
                dismissible: true,
                types: [
                    {
                        type: 'Success',
                    },
                    {
                        type: 'Error',
               
                    }
                ]
            });

            {% for message in messages %}
                {% if message.tags == 'success' %}
                    notyf.success("{{ message }}");
                {% elif message.tags == 'error' %}
                    notyf.error("{{ message }}");
                {% endif %}
            {% endfor %}
        </script>
    {% endif %}
    
    
    
{% endblock %}
